# ๐ค ููู ุงูุจูุงูุงุช ูู SQLite ุงููุญูู ุฅูู D1 ููุฅูุชุงุฌ

## โ ุงูุฅุฌุงุจุฉ ุงููุจุงุดุฑุฉ:

**ูุง ูููู ุงุณุชุฎุฏุงู ููู SQLite ุงููุญูู ูุจุงุดุฑุฉ ูู ุงูุฅูุชุงุฌ ุนูู Cloudflare** ูุฃู:
- Cloudflare Pages Functions ุชุนูู ูู ุจูุฆุฉ Workers (ูุง ูุธุงู ูููุงุช ูุญูู)
- ุงููููุงุช ุงููุญููุฉ ุบูุฑ ูุชุงุญุฉ ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุงูุณุญุงุจูุฉ
- D1 ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุณุญุงุจูุฉ ุงููุฎุตุตุฉ ูู Cloudflare

## โ ุงูุญู: ููู ุงูุจูุงูุงุช ูู SQLite ุฅูู D1

ุชู ุฅูุดุงุก ุณูุฑูุจุช ูุชุตุฏูุฑ ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ูููููุง ุฅูู D1.

---

## ๐ ูุง ุชู ุฅูุฌุงุฒู:

### 1. โ ุชุตุฏูุฑ ุงูุจูุงูุงุช ูู SQLite ุงููุญูู
ุชู ุฅูุดุงุก ููู: `migrations/export-to-d1.sql`

**ุงูุจูุงูุงุช ุงููุตุฏุฑุฉ:**
- โ **users:** 2 ูุณุชุฎุฏููู
- โ **reports:** 1 ุชูุฑูุฑ
- โ **notifications:** 2 ุฅุดุนุงุฑุงุช
- โ **company_settings:** 1 ุฅุนุฏุงุฏุงุช ุดุฑูุฉ

### 2. โ ุชุทุจูู ุงูุจูุงูุงุช ุนูู D1
```bash
wrangler d1 execute reportDB --remote --file=./migrations/export-to-d1.sql
```

---

## ๐ ุนูููุฉ ุงูููู (ุชู ุชูููุฐูุง):

### ุงูุฎุทูุฉ 1: ุชุตุฏูุฑ ุงูุจูุงูุงุช
```bash
node scripts/export-sqlite-to-d1.cjs
```

**ุงููุชูุฌุฉ:**
- ุชู ุฅูุดุงุก: `migrations/export-to-d1.sql`
- ูุญุชูู ุนูู ุฌููุน ุงูุจูุงูุงุช ูู SQLite ุงููุญูู

### ุงูุฎุทูุฉ 2: ุชุทุจูู ุนูู D1
```bash
wrangler d1 execute reportDB --remote --file=./migrations/export-to-d1.sql
```

**ุงููุชูุฌุฉ:**
- โ ุฌููุน ุงูุจูุงูุงุช ุงูุขู ูู D1
- โ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ

---

## ๐ ููุงุฑูุฉ:

| ุงูุจูุฏ | ุงูุชุทููุฑ ุงููุญูู | ุงูุฅูุชุงุฌ |
|------|----------------|---------|
| **ููุน ุงููุงุนุฏุฉ** | SQLite (ููู ูุญูู) | D1 (ุณุญุงุจูุฉ) |
| **ุงููุณุงุฑ** | `./database.sqlite` | `env.DB` (ุฑุจุท) |
| **ุงููููุน** | ุนูู ุฌูุงุฒู | ุนูู Cloudflare |
| **ุงููุตูู** | ูุจุงุดุฑ | ุนุจุฑ API |

---

## ๐ ุงูุณูุฑ ุงูุนูู:

### 1. ูู ุงูุชุทููุฑ ุงููุญูู:
```javascript
// server/db.ts
import Database from 'better-sqlite3';
const db = new Database('./database.sqlite'); // โ ููู ูุญูู
```

### 2. ูู ุงูุฅูุชุงุฌ (Cloudflare):
```typescript
// functions/api/reports.ts
export const onRequestPost = async ({ request, env }) => {
  await env.DB.prepare(`INSERT INTO reports ...`).bind(...).run(); // โ D1 ุณุญุงุจู
}
```

---

## ๐๏ธ ููููุฉ ููู ุงูุจูุงูุงุช ูู ุงููุณุชูุจู:

### ุนูุฏ ุฅุถุงูุฉ ุจูุงูุงุช ูุญููุฉ ุฌุฏูุฏุฉ:

**1. ุตุฏุฑ ุงูุจูุงูุงุช:**
```bash
node scripts/export-sqlite-to-d1.cjs
```

**2. ุฑุงุฌุน ุงูููู ุงูููุตุฏููุฑ:**
```bash
# ูุชุญ migrations/export-to-d1.sql
# ุชุญูู ูู ุงูุจูุงูุงุช ูุจู ุงูุชุทุจูู
```

**3. ุทุจู ุนูู D1:**
```bash
wrangler d1 execute reportDB --remote --file=./migrations/export-to-d1.sql
```

**4. ุงุฎุชุจุฑ:**
- ุงูุชุญ: https://report-sys.pages.dev
- ุชุญูู ูู ุธููุฑ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

---

## ๐ ุงููููุงุช ุงููููุฉ:

1. **`database.sqlite`** - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (ููุชุทููุฑ ููุท)
2. **`migrations/d1-schema.sql`** - ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช D1
3. **`migrations/export-to-d1.sql`** - ุงูุจูุงูุงุช ุงููุตุฏุฑุฉ (ุฌุฏูุฏ!)
4. **`scripts/export-sqlite-to-d1.cjs`** - ุณูุฑูุจุช ุงูุชุตุฏูุฑ

---

## โ ุญุงูุฉ ุงูุจูุงูุงุช ุงูุขู:

### ูู SQLite ุงููุญูู:
- ๐ 2 users
- ๐ 1 report
- ๐ 2 notifications
- โ๏ธ 1 company settings

### ูู D1 (ุงูุฅูุชุงุฌ):
- โ **ููุณ ุงูุจูุงูุงุช** ุชู ูุณุฎูุง
- โ **ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู** ูู ุงูุชุทุจูู ุงูููุดูุฑ
- โ **ูููู ุงููุตูู ุฅูููุง** ูู https://report-sys.pages.dev

---

## ๐ฏ ุงูุฎูุงุตุฉ:

| ุงูุณุคุงู | ุงูุฅุฌุงุจุฉ |
|--------|---------|
| **ูู ูููู ุงุณุชุฎุฏุงู SQLite ููุฅูุชุงุฌุ** | โ ูุงุ ูุจุงุดุฑุฉ |
| **ูู ูููู ููู ุงูุจูุงูุงุชุ** | โ ูุนูุ ุชู! |
| **ูู ุงูุจูุงูุงุช ุงูุขู ูู D1ุ** | โ ูุนูุ ุฌุงูุฒุฉ |
| **ูู ูุญุชุงุฌ ุนูู ุฅุถุงููุ** | โ ูุงุ ูู ุดูุก ุฌุงูุฒ |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

1. โ **ุงูุจูุงูุงุช ุชู ููููุง** - ูุง ุญุงุฌุฉ ูุดูุก ุฅุถุงูู
2. ๐งช **ุงุฎุชุจุฑ ุงูุชุทุจูู:**
   - ุงูุชุญ: https://report-sys.pages.dev
   - ุณุฌู ุงูุฏุฎูู ุจุงููุณุชุฎุฏููู ุงูููุฌูุฏุฉ
   - ุชุญูู ูู ุงูุชูุงุฑูุฑ ูุงูุฅุดุนุงุฑุงุช

3. ๐ **ุนูุฏ ุฅุถุงูุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ ูุญููุงู:**
   - ุดุบูู: `node scripts/export-sqlite-to-d1.cjs`
   - ุทุจูู ุนูู D1: `wrangler d1 execute reportDB --remote --file=./migrations/export-to-d1.sql`

---

**โ ูู ุดูุก ุฌุงูุฒ! ุจูุงูุงุชู ุงููุญููุฉ ุงูุขู ูู ูุงุนุฏุฉ ุจูุงูุงุช D1 ุงูุณุญุงุจูุฉ ูุฌุงูุฒุฉ ููุฅูุชุงุฌ!** ๐

